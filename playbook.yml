  - name: Playbook
    hosts: all
    remote_user: centos
    become: 'yes'
    become_user: root

    tasks:
      - name: Install Dependencies
        yum:
          name: epel-release
          state: latest

      - name: Install FTP Server
        yum:
          name: proftpd
          state: latest

      - name: Start FTP Server
        ansible.builtin.systemd:
          state: started
          name: proftpd

      - name: Enable FTP Server
        ansible.builtin.systemd:
          name: proftpd
          enabled: yes
      
      - name: Create devsecops user
        user:
          name: devsecops
          password: "{{ 'it351mu' | password_hash('sha512') }}"
          shell: /bin/zsh
          update_password: on_create
          register: devsecops
      - name: Force devsecops to change password
        shell: chage -d 0 devsecops
        when: devsecops.changed


          